(this.webpackJsonpresaturants_booking=this.webpackJsonpresaturants_booking||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),i=c(13),s=c.n(i),a=c(2),u=c(15),j=c(30),o=c(4),l=c(20),d="ADD_RESTAURANTS",b="ADD_SEARCH_NAME",O="SELECT_CUISINE",h="OPEN_CART",f="CLOSE_CART",m="CART_OPENING_ANIMATION",x="CART_CLOSING_ANIMATION",p="ADD_CART_ITEM",v="DELETE_CART_ITEM",N="INCREASE_CART_ITEM",C="DECREASE_CART_ITEM",g="ORDER",y="INVOICE_MODAL",E={cart:[],isCart:!1,isCartAnimating:!1,isInvoiceModal:!1},I=Object(l.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case h:return e.isCart=!0,e;case f:return e.isCart=!1,e;case m:return e.isCartAnimating=!0,e;case x:return e.isCartAnimating=!1,e;case p:var r=e.cart.find((function(e){return e.ruiid===n.item.ruiid}));return r?e.cart.forEach((function(e){e.ruiid===n.item.ruiid&&(e=Object(o.a)(Object(o.a)({},e),{},{count:e.count++}))})):e.cart.push(Object(o.a)(Object(o.a)({},n.item),{},{ruiid:n.item.ruiid,count:1})),e;case v:return e.cart.forEach((function(t,c){t.ruiid===n.ruiid&&e.cart.splice(c,1)})),e;case N:return e.cart.forEach((function(e){e.ruiid===n.ruiid&&(e=Object(o.a)(Object(o.a)({},e),{},{count:e.count++}))})),e;case C:return e.cart.forEach((function(t,c){t.ruiid===n.ruiid&&(t.count>1?t=Object(o.a)(Object(o.a)({},t),{},{count:t.count--}):e.cart.splice(c,1))})),e;case g:return e.cart=[],e;case y:return e.isInvoiceModal=!e.isInvoiceModal,e;default:return e}})),A={restaurants:[],searchedName:"",selectedCuisine:"all"},S={cartReducer:I,otherReducer:Object(l.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case d:return n.restaurants.forEach((function(t){e.restaurants.push(t)})),e;case b:return e.searchedName=n.name.toLowerCase(),e;case O:return e.selectedCuisine=n.cuisine,e;default:return e}}))},R=Object(u.createStore)(Object(u.combineReducers)(S),Object(j.composeWithDevTools)()),k=(c(41),function(e){return e.cartReducer.cart}),w=function(e){return e.cartReducer.isCart},T=function(e){return e.cartReducer.isCartAnimating},M=function(e){return e.cartReducer.isInvoiceModal},_=function(e){return e.otherReducer.restaurants},D=function(e){return e.otherReducer.searchedName},F=function(e){return e.otherReducer.selectedCuisine},W=c(12),L=c(5),P=(c(42),function(){return Object(n.jsx)("div",{className:"notAuthorized",children:"NotAuthorized"})}),$="/mock/restaurants.json",B="fas fa-shopping-cart",U="fas fa-times",J="fas fa-arrow-left",z="fas fa-minus",H="fas fa-plus",G=300,V="300px",Y=["January","February","March","April","May","June","July","August","September","October","November","December"],q=c(6),K=c(18),Q=c.n(K),X=c(25);var Z=function(e){Object(r.useEffect)(e,[])},ee=new Map,te=function(){var e=Object(X.a)(Q.a.mark((function e(t){var c,n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ee.has(t)){e.next=2;break}return e.abrupt("return",ee.get(t));case 2:return e.prev=2,e.next=5,fetch(t);case 5:return c=e.sent,e.next=8,c.json();case 8:return n=e.sent,ee.set(t,n),e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=Object(L.g)(),c=Object(r.useState)(),n=Object(q.a)(c,2),i=n[0],s=n[1];return Z((function(){Object(X.a)(Q.a.mark((function c(){var n;return Q.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,te(e);case 2:(n=c.sent)instanceof Error?t.replace("/notAuthorized"):s(n);case 4:case"end":return c.stop()}}),c)})))()})),i},ne=function(){return{type:f}},re=function(e){return{type:b,payload:{name:e}}},ie=function(e){return{type:O,payload:{cuisine:e}}},se=function(){return{type:x}},ae=function(){return{type:y}},ue=(c(45),function(){var e=Object(a.b)(),t=ce("/mock/cuisines.json"),c=Object(a.c)((function(e){return{selectCusine:F(e)}})).selectedCuisine;return Z((function(){"all"!==c&&e(ie("all"))})),Object(n.jsx)("div",{className:"selectOptions",children:Object(n.jsxs)("select",{onChange:function(t){return function(t){e(ie(t.target.value))}(t)},children:[Object(n.jsx)("option",{value:"all",children:"All"}),t&&t.map((function(e,t){return Object(n.jsx)("option",{value:e.abbr,children:e.name},t)}))]})})}),je=(c(46),function(e){var t=e.placeholder,c=void 0===t?"search":t,r=e.isRestaurantsSearch,i=void 0!==r&&r,s=Object(a.b)(),u=Object(a.c)((function(e){return{searchedName:D(e)}})).searchedName;Z((function(){""!==u&&s(re(""))}));return Object(n.jsx)("div",{className:i?"search restaurantsSearch":"search",children:Object(n.jsx)("input",{type:"text",placeholder:c,onChange:function(e){return function(e){s(re(e.target.value))}(e)}})})});c(47);var oe=function(e){var t=e.type,c=e.style,r=void 0===c?{}:c;return Object(n.jsx)("div",{className:"faicon",children:Object(n.jsx)("i",{className:t,style:r})})},le=(c(48),function(){var e=Object(r.useState)(),t=Object(q.a)(e,2),c=t[0],i=t[1],s=Object(a.b)(),u=Object(a.c)((function(e){return{cart:k(e)}})).cart;Object(r.useEffect)((function(){var e=0;u.forEach((function(t){var c=t.count;e+=c})),i(e)}),[u]);return c?Object(n.jsxs)("div",{className:"shoppingCart",onClick:function(){s({type:h}),setTimeout((function(){return s({type:m})}))},children:[Object(n.jsx)(oe,{type:B,style:{fontSize:"20px"}}),Object(n.jsx)("sup",{children:c})]}):null}),de=(c(49),function(e){var t=e.isSelectOptionExist,c=void 0!==t&&t,r=e.placeholder,i=e.isBackExist,s=void 0!==i&&i,u=e.isRestaurantsSearch,j=Object(L.g)(),o=Object(a.c)((function(e){return{isCart:w(e)}})).isCart;return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("div",{className:"left",children:s&&Object(n.jsx)("button",{onClick:function(){j.push("/")},children:Object(n.jsx)(oe,{type:J,style:{color:"#2c3e50"}})})}),Object(n.jsxs)("div",{className:"searchFilter",children:[c&&Object(n.jsx)(ue,{}),Object(n.jsx)(je,{placeholder:r,isRestaurantsSearch:u})]}),Object(n.jsx)("div",{className:"cart",children:!o&&Object(n.jsx)(le,{})})]})}),be=c(11),Oe=(c(50),function(e){var t=e.id,c=e.name,r=e.photoUrl,i=e.cuisines,s=Object(L.g)();return Object(n.jsx)("div",{className:"restaurantItemWrapper",children:Object(n.jsxs)("div",{className:"restaurantItem",onClick:function(){s.push("/restaurants/".concat(t))},children:[Object(n.jsx)("div",{className:"photo",style:{backgroundImage:"url(".concat(r,")")}}),Object(n.jsx)("h2",{children:c}),Object(n.jsx)("div",{className:"cuisines",children:i.map((function(e,t){return Object(n.jsx)("div",{className:"cuisineWrapper",children:Object(n.jsx)("div",{className:"cuisine",children:e})},t)}))})]})})}),he=(c(51),function(){var e=Object(a.b)(),t=ce($),c=Object(a.c)((function(e){return{restaurants:_(e),searchedName:D(e),selectedCuisine:F(e)}})),i=c.restaurants,s=c.searchedName,u=c.selectedCuisine;return Object(r.useEffect)((function(){i.length||t&&e(function(e){return{type:d,payload:{restaurants:e}}}(t))}),[e,t,i]),Object(n.jsx)("div",{className:"restaurants",children:i.filter((function(e){var t=e.cuisines;return"all"===u||t.includes(u)})).filter((function(e){return e.name.toLowerCase().includes(s)})).map((function(e){var t=e.id,c=Object(be.a)(e,["id"]);return Object(n.jsx)(Oe,Object(o.a)({id:t},c),t)}))})}),fe=(c(52),function(e){var t=e.name,c=e.photoUrl,r=e.price,i=e.count,s=e.ruiid,u=Object(a.b)();return Object(n.jsxs)("div",{className:"cartItem",children:[Object(n.jsxs)("div",{className:"nameDeleteItem",children:[Object(n.jsx)("div",{className:"name",children:Object(n.jsx)("h3",{children:t})}),Object(n.jsx)("div",{className:"deleteItem",onClick:function(){u(function(e){return{type:v,payload:{ruiid:e}}}(s))},children:Object(n.jsx)(oe,{type:U})})]}),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)("div",{className:"photo",children:Object(n.jsx)("img",{src:c,alt:"img"})}),Object(n.jsxs)("div",{className:"priceCounter",children:[Object(n.jsx)("div",{className:"price",children:Object(n.jsxs)("h3",{children:["$ ",r]})}),Object(n.jsxs)("div",{className:"counter",children:[Object(n.jsx)("div",{className:"decrease",onClick:function(){u(function(e){return{type:C,payload:{ruiid:e}}}(s))},children:Object(n.jsx)(oe,{type:z})}),Object(n.jsx)("div",{className:"currentCount",children:Object(n.jsx)("p",{children:i})}),Object(n.jsx)("div",{className:"increase",onClick:function(){u(function(e){return{type:N,payload:{ruiid:e}}}(s))},children:Object(n.jsx)(oe,{type:H})})]})]})]})]})}),me=(c(53),function(e){var t=e.style,c=Object(r.useState)(0),i=Object(q.a)(c,2),s=i[0],u=i[1],j=Object(a.b)(),l=Object(a.c)((function(e){return{cart:k(e)}})).cart;Object(r.useEffect)((function(){if(l){var e=0;l.forEach((function(t){var c=t.price,n=t.count;e+=c*n})),u(e)}}),[l]),Object(r.useEffect)((function(){return function(){j(ne()),j(se())}}),[j]);return Object(n.jsx)("div",{className:"cartRightWrapper",style:Object(o.a)(Object(o.a)({},t),{},{width:V,transition:"".concat(G,"ms")}),children:Object(n.jsxs)("div",{className:"cartRight",children:[Object(n.jsxs)("div",{className:"top",children:[Object(n.jsx)("div",{className:"totalPrice",children:Object(n.jsx)("h3",{children:s?"Total $ ".concat(s):"Cart is Empty"})}),Object(n.jsx)("div",{className:"closeCart",onClick:function(){j(se()),setTimeout((function(){return j(ne())}),G)},children:Object(n.jsx)(oe,{type:U})})]}),Object(n.jsx)("div",{className:"cartItems",children:l&&l.map((function(e){var t=e.ruiid,c=Object(be.a)(e,["ruiid"]);return Object(n.jsx)(fe,Object(o.a)({ruiid:t},c),t)}))}),s?Object(n.jsx)("div",{className:"order",children:Object(n.jsx)("div",{onClick:function(){j(se()),setTimeout((function(){return j(ne())}),G),j(ae())},children:"Order"})}):null]})})}),xe=(c(54),function(){var e=Object(a.c)((function(e){return{isCart:w(e),isCartAnimating:T(e)}})),t=e.isCart,c=e.isCartAnimating;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"home",style:{width:c?"calc(100% - ".concat(V,")"):"100%",transition:c?"".concat(G,"ms"):"0"},children:[Object(n.jsx)(de,{isSelectOptionExist:!0,placeholder:"Search Restaurants",isRestaurantsSearch:!0}),Object(n.jsx)(he,{})]}),t&&Object(n.jsx)(me,{style:{right:c?"0":"-".concat(V)}})]})}),pe=c(31),ve=(c(55),function(e){var t=e.id,c=e.ruiid,r=e.name,i=e.photoUrl,s=e.price,u=Object(a.b)();return Object(n.jsx)("div",{className:"menuItemWrapper",children:Object(n.jsxs)("div",{className:"menuItem",children:[Object(n.jsx)("div",{className:"photo",style:{backgroundImage:"url(".concat(i,")")}}),Object(n.jsx)("h2",{children:r}),Object(n.jsxs)("div",{className:"priceCart",children:[Object(n.jsxs)("div",{className:"price",children:["$ ",s]}),Object(n.jsx)("div",{className:"cart",onClick:function(){u({type:p,payload:{item:{id:t,name:r,photoUrl:i,price:s,ruiid:c}}})},children:Object(n.jsx)(oe,{type:B})})]})]})})}),Ne=(c(56),function(){var e=Object(r.useState)(0),t=Object(q.a)(e,2),c=t[0],i=t[1],s=Object(r.useState)(999999999),u=Object(q.a)(s,2),j=u[0],l=u[1],d=Object(r.useState)(),b=Object(q.a)(d,2),O=b[0],h=b[1],f=Object(r.useState)(),m=Object(q.a)(f,2),x=m[0],p=m[1],v=Object(r.useState)(),N=Object(q.a)(v,2),C=N[0],g=N[1],y=Object(L.h)(),E=ce("/mock/menus/".concat(y.id,".json")),I=ce($),A=Object(a.c)((function(e){return{searchedName:D(e),isCart:w(e),isCartAnimating:T(e)}})),S=A.searchedName,R=A.isCart,k=A.isCartAnimating;Object(r.useEffect)((function(){if(I&&E){g(E);var e=I.find((function(e){return e.id===Number(y.id)}));e&&(p(e),O||h(e.cuisines))}}),[I,y,E,O]),Object(r.useEffect)((function(){return function(){return g(E)}}),[E]);return Object(n.jsxs)(n.Fragment,{children:[R&&Object(n.jsx)(me,{style:{right:k?"0":"-".concat(V)}}),Object(n.jsxs)("div",{className:"restaurant",style:{width:k?"calc(100% - ".concat(V,")"):"100%",transition:k?"".concat(G,"ms"):"0"},children:[Object(n.jsx)(de,{placeholder:"Search Menu Items",isBackExist:!0}),Object(n.jsxs)("div",{className:"menuWrapper",children:[Object(n.jsx)("div",{className:"menuFilterWrapper",children:Object(n.jsxs)("div",{className:"menuFilter",children:[Object(n.jsxs)("div",{className:"cuisine",children:[Object(n.jsx)("h2",{children:"Cuisine"}),Object(n.jsx)("div",{className:"chechkboxItemsWrapper",children:x&&x.cuisines.map((function(e,t){return Object(n.jsxs)("div",{className:"chechkboxItem",children:[Object(n.jsx)("input",{type:"checkbox",id:e,name:e,value:e,onChange:function(e){return function(e){var t=e.target.checked,c=e.target.value;O.includes(c)&&t?h([c]):O.includes(c)&&!1===t?h((function(e){return e.filter((function(e){return e!==c}))})):!O.includes(c)&&t?h((function(e){return[].concat(Object(pe.a)(e),[c])})):h((function(e){return e}))}(e)}}),Object(n.jsx)("label",{htmlFor:e,children:e})]},t)}))})]}),Object(n.jsxs)("div",{className:"price",children:[Object(n.jsx)("h2",{children:"Price"}),Object(n.jsxs)("div",{className:"inputsWrapper",children:[Object(n.jsxs)("div",{className:"priceInput",children:[Object(n.jsx)("label",{htmlFor:"min",children:"Min $"}),Object(n.jsx)("input",{id:"min",type:"number",value:0===c?"":c,onChange:function(e){return function(e){i(e.target.value)}(e)}})]}),Object(n.jsxs)("div",{className:"priceInput",children:[Object(n.jsx)("label",{htmlFor:"min",children:"Max $"}),Object(n.jsx)("input",{id:"max",type:"number",value:999999999===j?"":j,onChange:function(e){return function(e){l(e.target.value)}(e)}})]})]})]})]})}),Object(n.jsx)("div",{className:"restaurantMenu",children:C&&C.filter((function(e){return e.name.toLowerCase().includes(S)})).filter((function(e){var t=e.cuisine;return!O||(!O.length||O.includes(t))})).filter((function(e){var t=e.price;return t>=c&&t<=j})).map((function(e){var t=e.id,c=e.name,r=Object(be.a)(e,["id","name"]);return Object(n.jsx)(ve,Object(o.a)({ruiid:y.id+c+t,id:t,name:c},r),t)}))})]})]})]})});c(57);var Ce=function(){return Object(n.jsx)("div",{className:"loadingWrapper",children:Object(n.jsxs)("div",{className:"lds-spinner",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})},ge=function(e){var t=e.children,c=e.Fallback,i=void 0===c?Ce:c;return Object(n.jsx)(r.Suspense,{fallback:Object(n.jsx)(i,{}),children:t})},ye=function(e){var t=e.component,c=e.children,r=Object(be.a)(e,["component","children"]);return t?Object(n.jsx)(L.b,Object(o.a)(Object(o.a)({},r),{},{children:Object(n.jsx)(ge,{children:Object(n.jsx)(t,{})})})):Object(n.jsx)(L.b,Object(o.a)(Object(o.a)({},r),{},{children:Object(n.jsx)(ge,{children:c})}))},Ee=function(){return Object(n.jsx)(W.a,{children:Object(n.jsxs)(L.d,{children:[Object(n.jsx)(ye,{exact:!0,path:"/restaurants",component:xe}),Object(n.jsx)(ye,{exact:!0,path:"/restaurants/:id",component:Ne}),Object(n.jsx)(L.b,{exact:!0,path:"/notfound",component:P}),Object(n.jsx)(L.a,{exact:!0,from:"/",to:"/restaurants"})]})})},Ie=(c(58),document.getElementById("modal")),Ae=function(e){var t=e.children,c=document.createElement("div");return Object(r.useEffect)((function(){return Ie.appendChild(c),function(){return Ie.removeChild(c)}}),[t,c]),s.a.createPortal(t,c)},Se=(c(59),function(){var e=Object(a.b)(),t=Object(r.useState)(0),c=Object(q.a)(t,2),i=c[0],s=c[1],u=Object(r.useState)(),j=Object(q.a)(u,2),o=j[0],l=j[1],d=Object(r.useState)(),b=Object(q.a)(d,2),O=b[0],h=b[1],f=Object(a.c)((function(e){return{cart:k(e)}})).cart;Object(r.useEffect)((function(){if(o){var e=o.getBoundingClientRect().height;h(e)}else{var t=document.getElementById("modalTable");l(t)}}),[o]),Object(r.useEffect)((function(){var e=0;f.forEach((function(t){var c=t.price,n=t.count;e+=c*n})),s(e)}),[f]);return Object(n.jsx)("div",{className:"modalPopup",children:Object(n.jsxs)("div",{className:"invoice",children:[Object(n.jsxs)("div",{className:"top",children:[Object(n.jsxs)("div",{className:"w",children:[Object(n.jsxs)("span",{children:[(new Date).getHours(),":"]}),Object(n.jsxs)("span",{children:[(new Date).getMinutes(),":"]}),Object(n.jsx)("span",{children:(new Date).getSeconds()}),Object(n.jsx)("span",{className:"type",children:"AM"})]}),Object(n.jsxs)("div",{className:"dmy",children:[Object(n.jsx)("span",{children:(new Date).getDate()}),Object(n.jsx)("span",{children:Y[(new Date).getMonth()]}),Object(n.jsx)("span",{children:(new Date).getFullYear()})]})]}),Object(n.jsx)("h1",{children:"Invoice"}),Object(n.jsx)("div",{id:"modalTable",className:"table",style:{height:O>window.innerHeight/2?window.innerHeight/2:O},children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Price $"}),Object(n.jsx)("th",{children:"Count"}),Object(n.jsx)("th",{children:"Total $"})]})}),Object(n.jsxs)("tbody",{children:[f.map((function(e){var t=e.ruiid,c=e.name,r=e.price,i=e.count;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:i}),Object(n.jsx)("td",{children:r*i})]},t)})),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:i})]},"total")]})]})}),Object(n.jsx)("div",{className:"buttons",children:Object(n.jsx)("div",{className:"closeInvoice",onClick:function(){e({type:g}),e(ae())},children:"Close"})})]})})}),Re=(c(60),function(){var e=Object(a.c)((function(e){return{isInvoiceModal:M(e)}})).isInvoiceModal;return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(Ee,{}),Object(n.jsx)(Ae,{children:e&&Object(n.jsx)(Se,{})})]})});s.a.render(Object(n.jsx)(a.a,{store:R,children:Object(n.jsx)(Re,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.1bf91b98.chunk.js.map